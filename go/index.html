<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="/rng/favicon.ico">
  <meta property="og:title" content="ðŸ•‘ Pets GO! Update Countdown ðŸ•‘" />
  <meta property="og:description" content="Pets GO! Update Countdown! Made with â™¥ by fytage!" />
  <meta property="og:image" content="https://i.imgur.com/HHktHbL.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ðŸ•‘ Pets GO! Update Countdown ðŸ•‘" />
  <meta name="twitter:description" content="Pets GO! Update Countdown! Made with â™¥ by fytage!" />
  <meta name="twitter:image" content="https://i.imgur.com/HHktHbL.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@605&display=swap" rel="stylesheet">
  <title>ðŸ•‘ Pets GO! Update Countdown ðŸ•‘</title>
  <style>
body {
  font-family: 'Fredoka', sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
  color: white;
}

#title {
  font-size: 115px;
  margin-bottom: 20px;
}

#countdown {
  text-align: center;
  font-size: 100px;
  cursor: pointer;
  z-index: 1002;
}

#milliseconds {
  font-size: 33px;
}

#button {
  position: fixed;
  top: 20px;
  right: 20px;
  opacity: 0.6;
  cursor: pointer;
}

#button img {
  width: 60px;
}

#discordButton {
  position: fixed;
  top: 20px;
  left: 20px;
  opacity: 0.7;
  cursor: pointer;
}

#discordButton img {
  width: 40px;
}

video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
}

.js-container {
  perspective: 700px;
  position: fixed;
  overflow: hidden;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1000;
}

.confetti {
  position: absolute;
  z-index: 1001;
  top: -10px;
  border-radius: 0%;
}

.confetti--animation-slow {
  animation: confetti-slow 2.25s linear 1 forwards;
}

.confetti--animation-medium {
  animation: confetti-medium 1.75s linear 1 forwards;
}

.confetti--animation-fast {
  animation: confetti-fast 1.25s linear 1 forwards;
}

@keyframes confetti-slow {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }
  100% {
    transform: translate3d(25px, 105vh, 0) rotateX(360deg) rotateY(180deg);
  }
}

@keyframes confetti-medium {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }
  100% {
    transform: translate3d(100px, 105vh, 0) rotateX(100deg) rotateY(360deg);
  }
}

@keyframes confetti-fast {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }
  100% {
    transform: translate3d(-50px, 105vh, 0) rotateX(10deg) rotateY(250deg);
  }
}

@media only screen and (max-width: 768px) {
  #title {
    display: none;
  }
}

@keyframes glow {
  0% { text-shadow: 0 0 0 darkgreen; } 
  50% { text-shadow: 0 0 20px green; }
  100% { text-shadow: 0 0 0 darkgreen; } 
}

.text-glow {
  animation: glow 2.5s infinite; /* Adjust the duration and iteration as needed */
}

#countdown.text-glow:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <video id="video-background" autoplay loop muted playsinline poster="https://petsimupdate.com/rng/fallback.png">
    <source src="https://petsimupdate.com/rng/rngbg.webm" type="video/webm">
    Your browser does not support the video tag.
  </video>

  <div id="title">Pets GO Update!</div>
  <div id="countdown"></div>
  <div id="milliseconds"></div>

  <a id="button" href="https://fytage.github.io/website" target="_blank">
    <img src="https://raw.githubusercontent.com/fytage/website/main/images/signature-white.png" alt="Signature">
  </a>

  <a id="discordButton" href="https://discord.gg/pet-simulator-news-1146582505693138954" target="_blank">
    <img src="https://raw.githubusercontent.com/fytage/website/main/images/discordupd.png" alt="Discord">
  </a>

  <div class="js-container" id="confetti-holder"></div>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>

<script>
const countDownDate = new Date("October 25, 2024 17:00:00 GMT+0100").getTime();
let confettiInitialized = false;

const x = setInterval(function() {
  const now = new Date().getTime();
  const distance = countDownDate - now;
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  const milliseconds = Math.floor(distance % 1000);

  let countdownText = '';
  if (days > 0) countdownText += `${days}d `;
  if (hours > 0 || days > 0) countdownText += `${hours}h `;
  if (minutes > 0 || hours > 0 || days > 0) countdownText += `${minutes}m `;
  countdownText += `${seconds}s`;

  document.getElementById("countdown").innerHTML = countdownText.trim();
  document.getElementById("milliseconds").innerHTML = `${milliseconds}ms`;

  if (distance <= 0 && !confettiInitialized) {
    clearInterval(x);
    const countdownElement = document.getElementById("countdown");
    countdownElement.innerHTML = "Now Out!";
    countdownElement.style.color = "#8eff8e";
    countdownElement.style.cursor = "pointer";
    countdownElement.addEventListener("click", function() {
      window.location.href = "https://www.roblox.com/share?code=ff7b3b5c20ef664aac9984b41d00b934&type=ExperienceAffiliate";
    });
    countdownElement.classList.add("text-glow");
    document.getElementById("milliseconds").style.display = "none";

    // Show bursts of confetti
    confettiBurst();

    confettiInitialized = true;
    document.querySelector(".js-container").style.display = "block";
    window.confettiful = new Confettiful(document.querySelector('.js-container'));

    // Set flag in localStorage to indicate countdown has ended
    localStorage.setItem('countdownEnded', 'true');
  }
}, 10);

// Confetti bursts function
function confettiBurst() {
  // Center burst with more particles to avoid gaps
  confetti({
    particleCount: 200,
    spread: 70,
    origin: { x: 0.5, y: 0.5 }
  });

  // Top left to bottom right burst, adjust origin slightly inward
  confetti({
    particleCount: 100,
    angle: 45,
    spread: 60,
    startVelocity: 40,
    origin: { x: 0.1, y: 0.1 }
  });

  // Top right to bottom left burst, adjust origin slightly inward
  confetti({
    particleCount: 100,
    angle: 135,
    spread: 60,
    startVelocity: 50,
    origin: { x: 0.9, y: 0.1 }
  });
}




// Confetti class, unchanged
const Confettiful = function (el) {
  this.el = el;
  this.containerEl = null;

  this.confettiFrequency = 25;
  this.confettiColors = ['#fce18a', '#ff726d', '#b48def', '#f4306d'];
  this.confettiAnimations = ['slow', 'medium', 'fast'];

  this._setupElements();
  this._renderConfetti();
};

Confettiful.prototype._setupElements = function () {
  const containerEl = document.createElement('div');
  containerEl.classList.add('confetti-container');

  this.el.appendChild(containerEl);
  this.containerEl = containerEl;
};

Confettiful.prototype._renderConfetti = function () {
  this.confettiInterval = setInterval(() => {
    const confettiEl = document.createElement('div');
    const confettiSize = Math.floor(Math.random() * 3) + 7 + 'px';
    const confettiBackground = this.confettiColors[Math.floor(Math.random() * this.confettiColors.length)];
    const confettiLeft = Math.floor(Math.random() * this.el.offsetWidth) + 'px';
    const confettiAnimation = this.confettiAnimations[Math.floor(Math.random() * this.confettiAnimations.length)];

    confettiEl.classList.add('confetti', 'confetti--animation-' + confettiAnimation);
    confettiEl.style.left = confettiLeft;
    confettiEl.style.width = confettiSize;
    confettiEl.style.height = confettiSize;
    confettiEl.style.backgroundColor = confettiBackground;
    confettiEl.style.zIndex = "1001"; // Ensure it's on top

    confettiEl.removeTimeout = setTimeout(function () {
      confettiEl.parentNode.removeChild(confettiEl);
    }, 3000);

    this.containerEl.appendChild(confettiEl);
  }, 25);
};

  </script>

</body>
</html>
